# Guide to Docker Volumes

Docker volumes are a way to persist data generated by and used by Docker containers. They are especially useful for sharing data between containers or persisting data beyond the life cycle of a single container.

## Types of Docker Volumes

There are several types of Docker volumes:

1. **Named volumes**: These are volumes with a specific name assigned by the user.
2. **Anonymous volumes**: These are volumes that Docker creates automatically. They are not given a specific name.
3. **Host volumes**: These are directories from the host machine mounted into a container.

## Creating a Docker Volume

To create a named volume, you can use the following command:

```bash
docker volume create {volume_name}
```

## Using a Docker Volume

### Example: MySQL Database

Let's say you have a MySQL database running in a Docker container. You can use a named volume to persist the database data even if the container is stopped or removed.

First, create a named volume:

```bash
docker volume create mysql_data
```

Then, run the MySQL container with the volume mounted:

```bash
docker run -d --rm \
  --name mysql-container \
  -e MYSQL_ROOT_PASSWORD=my-secret-pw \
  -v mysql_data:/var/lib/mysql \
  --memory=512m \
  --cpus=0.5 \
  mysql:latest \
  --default-authentication-plugin=mysql_native_password

```

or this for windows

```bash
docker run -d --rm --name mysql-container -e MYSQL_ROOT_PASSWORD=my-secret-pw -v mysql_data:/var/lib/mysql --memory=512m --cpus=0.5 mysql:latest --default-authentication-plugin=mysql_native_password

```

In this example:

- `-e`: This flag is used to set environment variables inside the Docker container.
- `-v mysql_data:/var/lib/mysql`: mounts the mysql_data volume to the /var/lib/mysql directory inside the container.
- `MYSQL_ROOT_PASSWORD=my-secret-pw`: This is the environment variable being set. In this case, it's setting the MySQL root user's password to my-secret-pw.
- `--memory=128m`: sets the maximum amount of memory that the container can use to 128MB.
- `--cpus=0.5`: restricts the container to use a maximum of 0.5 CPU cores (50% of a single core).
- `mysql:latest`: is the MySQL Docker image.
- `--default-authentication-plugin=mysql_native_password` is added at the end of the docker run command to specifies the default authentication plugin for MySQL.

Now, even if you stop or remove the mysql-container, the data stored in the /var/lib/mysql directory will persist in the mysql_data volume.
Managing Docker Volumes

You can list, inspect, and remove Docker volumes using the following commands:

- `docker volume ls`: List all Docker volumes.
- `docker volume inspect <volume_name>`: Inspect details about a specific volume.
- `docker volume rm <volume_name>`: Remove a specific volume.
